<html>

<head>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>

<body>
    <center>
        <!-- <div id="barchart"></div> -->
        <!-- <div id="piechart"></div> -->
        <div id="scatterchart"></div>
    </center>
</body>
<script>
    var x = '{{ result|tojson|safe }}';
    var jsonData = JSON.parse(x);
    var xValue = jsonData.x;

    var yValue = jsonData.y;

    var trace1 = {
        x: xValue,
        y: yValue,
        type: 'bar',
        text: yValue.map(String),
        textposition: 'auto',
        hoverinfo: 'none',
        marker: {
            color: 'rgb(158,202,225)',
            opacity: 0.6,
            line: {
                color: 'rgb(8,48,107)',
                width: 1.5
            }
        }
    };

    var data = [trace1];

    var layout = {
        title: 'Earthquake Report'
    };

    // Plotly.newPlot('barchart', data, layout);

    var piedata = [{
        values: jsonData.y,
        labels: jsonData.x,
        type: 'pie',
        // marker:{
        //     colors: ['rgb(0, 0, 0)', 'rgb(18, 36, 37)', 'rgb(34, 53, 101)', 'rgb(36, 55, 57)', 'rgb(6, 4, 4)','rgb(177, 127, 38)', 'rgb(205, 152, 36)', 'rgb(99, 79, 37)', 'rgb(129, 180, 179)', 'rgb(124, 103, 37)']
        // }
    }];

    var layout = {
        height: 900,
        width: 1000
    };

    // Plotly.newPlot('piechart', piedata, layout);

    var trace3 = {
        x: jsonData.x,
        y: jsonData.y,
        mode: 'markers',
        type: 'scatter',
        text: jsonData.x
    };

    var data = [trace3];

    Plotly.newPlot('scatterchart', data);
</script>

</html>